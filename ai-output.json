--- RAW AI RESPONSE (Pre-Parsing) ---
{
    "mesocycles": [
        {
            "id": "meso-1",
            "name": "Base Phase",
            "startDate": "2025-12-29",
            "endDate": "2026-01-25",
            "emphasis": "Aerobic conditioning and habit formation for 4-day frequency."
        },
        {
            "id": "meso-2",
            "name": "Strength and Aerobic Development",
            "startDate": "2026-01-26",
            "endDate": "2026-02-22",
            "emphasis": "Increasing long run duration and introducing lactate threshold work."
        },
        {
            "id": "meso-3",
            "name": "Peak Phase",
            "startDate": "2026-02-23",
            "endDate": "2026-03-29",
            "emphasis": "Specific marathon pace work and maximum mileage volume."
        },
        {
            "id": "meso-4",
            "name": "Taper and Race",
            "startDate": "2026-03-30",
            "endDate": "2026-04-21",
            "emphasis": "Physiological recovery and peaking for race day."
        }
    ],
    "microcycles": [
        {
            "id": "micro-1",
            "weekNumber": 1,
            "startDate": "2025-12-29",
            "endDate": "2026-01-04",
      "emphasi
--- AI INPUT JSON ---
{
                "user": {
                    "age": 30,
                    "gender": "male",
                    "experienceLevel": "intermediate",
                    "availableDays": [
                        "mon",
                        "wed",
                        "fri",
                        "sat"
                    ],
                    "timeConstraints": {},
                    "injuryHistory": [],
                    "weeklyMileageBase": 20.0
                },
                "goal": {
                    "type": "distance",
                    "target": "Marathon",
                    "deadline": "2026-04-21T00:44:28.090434",
                    "confidence": 0.8,
                    "specialInstructions": [],
                    "currentPace": null
                },
                "trainingHistory": [],
                "trainingPhilosophy": "Standard Periodization"
            }
--- AI RAW RESPONSE ---
{
                "mesocycles": [
                    {
                        "id": "meso-1",
                        "name": "Base Phase",
                        "startDate": "2025-12-29",
                        "endDate": "2026-01-25",
                        "emphasis": "Aerobic conditioning and habit formation for 4-day frequency."
                    },
                    {
                        "id": "meso-2",
                        "name": "Strength and Aerobic Development",
                        "startDate": "2026-01-26",
                        "endDate": "2026-02-22",
                        "emphasis": "Increasing long run duration and introducing lactate threshold work."
                    },
                    {
                        "id": "meso-3",
                        "name": "Peak Phase",
                        "startDate": "2026-02-23",
                        "endDate": "2026-03-29",
                        "emphasis": "Specific marathon pace work and maximum mileage volume."
                    },
                    {
                        "id": "meso-4",
                        "name": "Taper and Race",
                        "startDate": "2026-03-30",
                        "endDate": "2026-04-21",
                        "emphasis": "Physiological recovery and peaking for race day."
                    }
                ],
                "microcycles": [
                    {
                        "id": "micro-1",
                        "weekNumber": 1,
                        "startDate": "2025-12-29",
                        "endDate": "2026-01-04",
                        "emphasis": "Base"
                    },
                    {
                        "id": "micro-2",
                        "weekNumber": 2,
                        "startDate": "2026-01-05",
                        "endDate": "2026-01-11",
                        "emphasis": "Base"
                    },
                    {
                        "id": "micro-3",
                        "weekNumber": 3,
                        "startDate": "2026-01-12",
                        "endDate": "2026-01-18",
                        "emphasis": "Base"
                    },
                    {
                        "id": "micro-4",
                        "weekNumber": 4,
                        "startDate": "2026-01-19",
                        "endDate": "2026-01-25",
                        "emphasis": "Recovery"
                    },
                    {
                        "id": "micro-5",
                        "weekNumber": 5,
                        "startDate": "2026-01-26",
                        "endDate": "2026-02-01",
                        "emphasis": "Strength"
                    },
                    {
                        "id": "micro-6",
                        "weekNumber": 6,
                        "startDate": "2026-02-02",
                        "endDate": "2026-02-08",
                        "emphasis": "Strength"
                    },
                    {
                        "id": "micro-7",
                        "weekNumber": 7,
                        "startDate": "2026-02-09",
                        "endDate": "2026-02-15",
                        "emphasis": "Strength"
                    },
                    {
                        "id": "micro-8",
                        "weekNumber": 8,
                        "startDate": "2026-02-16",
                        "endDate": "2026-02-22",
                        "emphasis": "Recovery"
                    },
                    {
                        "id": "micro-9",
                        "weekNumber": 9,
                        "startDate": "2026-02-23",
                        "endDate": "2026-03-01",
                        "emphasis": "Peak/Specifics"
                    },
                    {
                        "id": "micro-10",
                        "weekNumber": 10,
                        "startDate": "2026-03-02",
                        "endDate": "2026-03-08",
                        "emphasis": "Peak/Specifics"
                    },
                    {
                        "id": "micro-11",
                        "weekNumber": 11,
                        "startDate": "2026-03-09",
                        "endDate": "2026-03-15",
                        "emphasis": "Peak/Specifics"
                    },
                    {
                        "id": "micro-12",
                        "weekNumber": 12,
                        "startDate": "2026-03-16",
                        "endDate": "2026-03-22",
                        "emphasis": "Peak/Specifics"
                    },
                    {
                        "id": "micro-13",
                        "weekNumber": 13,
                        "startDate": "2026-03-23",
                        "endDate": "2026-03-29",
                        "emphasis": "Recovery/Early Taper"
                    },
                    {
                        "id": "micro-14",
                        "weekNumber": 14,
                        "startDate": "2026-03-30",
                        "endDate": "2026-04-05",
                        "emphasis": "Taper"
                    },
                    {
                        "id": "micro-15",
                        "weekNumber": 15,
                        "startDate": "2026-04-06",
                        "endDate": "2026-04-12",
                        "emphasis": "Taper"
                    },
                    {
                        "id": "micro-16",
                        "weekNumber": 16,
                        "startDate": "2026-04-13",
                        "endDate": "2026-04-21",
                        "emphasis": "Race Week"
                    }
                ],
                "workouts": [
                    {
                        "id": "w1-1",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2025-12-29",
                        "type": "Easy",
                        "name": "Monday Recovery Run",
                        "plannedDuration": 45,
                        "plannedDistance": 4.5,
                        "status": "scheduled"
                    },
                    {
                        "id": "w1-2",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2025-12-31",
                        "type": "Interval",
                        "name": "Fartlek Play",
                        "plannedDuration": 50,
                        "plannedDistance": 6.0,
                        "status": "scheduled"
                    },
                    {
                        "id": "w1-3",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2026-01-02",
                        "type": "Easy",
                        "name": "Friday Base",
                        "plannedDuration": 40,
                        "plannedDistance": 4.0,
                        "status": "scheduled"
                    },
                    {
                        "id": "w1-4",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2026-01-03",
                        "type": "Long Run",
                        "name": "Saturday Long Run",
                        "plannedDuration": 100,
                        "plannedDistance": 10.0,
                        "status": "scheduled"
                    },
                    {
                        "id": "w8-1",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2026-02-16",
                        "type": "Easy",
                        "name": "Recovery Monday",
                        "plannedDuration": 35,
                        "plannedDistance": 3.5,
                        "status": "scheduled"
                    },
                    {
                        "id": "w8-4",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2026-02-21",
                        "type": "Long Run",
                        "name": "Sat Moderate Long Run",
                        "plannedDuration": 110,
                        "plannedDistance": 12.0,
                        "status": "scheduled"
                    },
                    {
                        "id": "w12-1",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2026-03-16",
                        "type": "Easy",
                        "name": "Monday Shakeout",
                        "plannedDuration": 60,
                        "plannedDistance": 6.0,
                        "status": "scheduled"
                    },
                    {
                        "id": "w12-2",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2026-03-18",
                        "type": "Tempo",
                        "name": "Marathon Pace Blocks",
                        "plannedDuration": 90,
                        "plannedDistance": 10.0,
                        "status": "scheduled"
                    },
                    {
                        "id": "w12-4",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2026-03-21",
                        "type": "Long Run",
                        "name": "Peak Long Run",
                        "plannedDuration": 210,
                        "plannedDistance": 22.0,
                        "status": "scheduled"
                    },
                    {
                        "id": "w16-4",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "scheduledDate": "2026-04-20",
                        "type": "Race",
                        "name": "Marathon Race Day",
                        "plannedDuration": 270,
                        "plannedDistance": 26.2,
                        "status": "scheduled"
                    }
                ],
                "rationale": {
                    "overallApproach": "A 16-week structured plan for an intermediate runner with a 20-mile base, limited to 4 days per week to allow for recovery and adaptation.",
                    "intensityDistribution": "Follows an 80/20 distribution: 80% of volume at low intensity (Easy/Long) and 20% at moderate to high intensity (Tempo/Intervals).",
                    "keyWorkouts": "Wednesday Threshold/MP runs build speed endurance, while the Saturday Long Run progressively increases to a peak of 22 miles in Week 12.",
                    "recoveryStrategy": "Every fourth week is a recovery microcycle with reduced volume (approx 60-70% of previous week) to mitigate injury risk and absorb training load."
                }
            }
--- AI PARSED OUTPUT ---
Tokens: 4341

{
                "mesocycles": [
                    {
                        "id": "meso-1",
                        "name": "Base Phase",
                        "startDate": "2025-12-29T00:00:00.000",
                        "endDate": "2026-01-25T00:00:00.000",
                        "emphasis": "Aerobic conditioning and habit formation for 4-day frequency."
                    },
                    {
                        "id": "meso-2",
                        "name": "Strength and Aerobic Development",
                        "startDate": "2026-01-26T00:00:00.000",
                        "endDate": "2026-02-22T00:00:00.000",
                        "emphasis": "Increasing long run duration and introducing lactate threshold work."
                    },
                    {
                        "id": "meso-3",
                        "name": "Peak Phase",
                        "startDate": "2026-02-23T00:00:00.000",
                        "endDate": "2026-03-29T00:00:00.000",
                        "emphasis": "Specific marathon pace work and maximum mileage volume."
                    },
                    {
                        "id": "meso-4",
                        "name": "Taper and Race",
                        "startDate": "2026-03-30T00:00:00.000",
                        "endDate": "2026-04-21T00:00:00.000",
                        "emphasis": "Physiological recovery and peaking for race day."
                    }
                ],
                "microcycles": [
                    {
                        "id": "micro-1",
                        "weekNumber": 1,
                        "startDate": "2025-12-29T00:00:00.000",
                        "endDate": "2026-01-04T00:00:00.000",
                        "emphasis": "Base"
                    },
                    {
                        "id": "micro-2",
                        "weekNumber": 2,
                        "startDate": "2026-01-05T00:00:00.000",
                        "endDate": "2026-01-11T00:00:00.000",
                        "emphasis": "Base"
                    },
                    {
                        "id": "micro-3",
                        "weekNumber": 3,
                        "startDate": "2026-01-12T00:00:00.000",
                        "endDate": "2026-01-18T00:00:00.000",
                        "emphasis": "Base"
                    },
                    {
                        "id": "micro-4",
                        "weekNumber": 4,
                        "startDate": "2026-01-19T00:00:00.000",
                        "endDate": "2026-01-25T00:00:00.000",
                        "emphasis": "Recovery"
                    },
                    {
                        "id": "micro-5",
                        "weekNumber": 5,
                        "startDate": "2026-01-26T00:00:00.000",
                        "endDate": "2026-02-01T00:00:00.000",
                        "emphasis": "Strength"
                    },
                    {
                        "id": "micro-6",
                        "weekNumber": 6,
                        "startDate": "2026-02-02T00:00:00.000",
                        "endDate": "2026-02-08T00:00:00.000",
                        "emphasis": "Strength"
                    },
                    {
                        "id": "micro-7",
                        "weekNumber": 7,
                        "startDate": "2026-02-09T00:00:00.000",
                        "endDate": "2026-02-15T00:00:00.000",
                        "emphasis": "Strength"
                    },
                    {
                        "id": "micro-8",
                        "weekNumber": 8,
                        "startDate": "2026-02-16T00:00:00.000",
                        "endDate": "2026-02-22T00:00:00.000",
                        "emphasis": "Recovery"
                    },
                    {
                        "id": "micro-9",
                        "weekNumber": 9,
                        "startDate": "2026-02-23T00:00:00.000",
                        "endDate": "2026-03-01T00:00:00.000",
                        "emphasis": "Peak/Specifics"
                    },
                    {
                        "id": "micro-10",
                        "weekNumber": 10,
                        "startDate": "2026-03-02T00:00:00.000",
                        "endDate": "2026-03-08T00:00:00.000",
                        "emphasis": "Peak/Specifics"
                    },
                    {
                        "id": "micro-11",
                        "weekNumber": 11,
                        "startDate": "2026-03-09T00:00:00.000",
                        "endDate": "2026-03-15T00:00:00.000",
                        "emphasis": "Peak/Specifics"
                    },
                    {
                        "id": "micro-12",
                        "weekNumber": 12,
                        "startDate": "2026-03-16T00:00:00.000",
                        "endDate": "2026-03-22T00:00:00.000",
                        "emphasis": "Peak/Specifics"
                    },
                    {
                        "id": "micro-13",
                        "weekNumber": 13,
                        "startDate": "2026-03-23T00:00:00.000",
                        "endDate": "2026-03-29T00:00:00.000",
                        "emphasis": "Recovery/Early Taper"
                    },
                    {
                        "id": "micro-14",
                        "weekNumber": 14,
                        "startDate": "2026-03-30T00:00:00.000",
                        "endDate": "2026-04-05T00:00:00.000",
                        "emphasis": "Taper"
                    },
                    {
                        "id": "micro-15",
                        "weekNumber": 15,
                        "startDate": "2026-04-06T00:00:00.000",
                        "endDate": "2026-04-12T00:00:00.000",
                        "emphasis": "Taper"
                    },
                    {
                        "id": "micro-16",
                        "weekNumber": 16,
                        "startDate": "2026-04-13T00:00:00.000",
                        "endDate": "2026-04-21T00:00:00.000",
                        "emphasis": "Race Week"
                    }
                ],
                "workouts": [
                    {
                        "id": "w1-1",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2025-12-29T00:00:00.000",
                        "type": "Easy",
                        "name": "Monday Recovery Run",
                        "plannedDuration": 45,
                        "plannedDistance": 4.5,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w1-2",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2025-12-31T00:00:00.000",
                        "type": "Interval",
                        "name": "Fartlek Play",
                        "plannedDuration": 50,
                        "plannedDistance": 6.0,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w1-3",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2026-01-02T00:00:00.000",
                        "type": "Easy",
                        "name": "Friday Base",
                        "plannedDuration": 40,
                        "plannedDistance": 4.0,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w1-4",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2026-01-03T00:00:00.000",
                        "type": "Long Run",
                        "name": "Saturday Long Run",
                        "plannedDuration": 100,
                        "plannedDistance": 10.0,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w8-1",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2026-02-16T00:00:00.000",
                        "type": "Easy",
                        "name": "Recovery Monday",
                        "plannedDuration": 35,
                        "plannedDistance": 3.5,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w8-4",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2026-02-21T00:00:00.000",
                        "type": "Long Run",
                        "name": "Sat Moderate Long Run",
                        "plannedDuration": 110,
                        "plannedDistance": 12.0,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w12-1",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2026-03-16T00:00:00.000",
                        "type": "Easy",
                        "name": "Monday Shakeout",
                        "plannedDuration": 60,
                        "plannedDistance": 6.0,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w12-2",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2026-03-18T00:00:00.000",
                        "type": "Tempo",
                        "name": "Marathon Pace Blocks",
                        "plannedDuration": 90,
                        "plannedDistance": 10.0,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w12-4",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2026-03-21T00:00:00.000",
                        "type": "Long Run",
                        "name": "Peak Long Run",
                        "plannedDuration": 210,
                        "plannedDistance": 22.0,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    },
                    {
                        "id": "w16-4",
                        "userId": "user-1",
                        "goalId": "goal-1",
                        "mesocycleId": null,
                        "microcycleId": null,
                        "scheduledDate": "2026-04-20T00:00:00.000",
                        "type": "Race",
                        "name": "Marathon Race Day",
                        "plannedDuration": 270,
                        "plannedDistance": 26.2,
                        "intensity": null,
                        "description": null,
                        "status": "scheduled",
                        "actualDuration": null,
                        "actualDistance": null,
                        "actualPace": null,
                        "rpe": null,
                        "completedAt": null
                    }
                ],
                "rationale": {
                    "overallApproach": "A 16-week structured plan for an intermediate runner with a 20-mile base, limited to 4 days per week to allow for recovery and adaptation.",
                    "intensityDistribution": "Follows an 80/20 distribution: 80% of volume at low intensity (Easy/Long) and 20% at moderate to high intensity (Tempo/Intervals).",
                    "keyWorkouts": "Wednesday Threshold/MP runs build speed endurance, while the Saturday Long Run progressively increases to a peak of 22 miles in Week 12.",
                    "recoveryStrategy": "Every fourth week is a recovery microcycle with reduced volume (approx 60-70% of previous week) to mitigate injury risk and absorb training load."
                }
            }